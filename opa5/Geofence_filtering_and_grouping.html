<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Opa check for filtering and grouping of geofences and
	radar</title>
<script id="sap-ui-bootstrap" src="../resources/sap-ui-core.js"
	data-sap-ui-resourceroots='{"opa5": "./"}'></script>
<script src="../resources/sap/ui/thirdparty/qunit.js"></script>
<link rel="stylesheet" href="../resources/sap/ui/thirdparty/qunit.css"
	type="text/css" media="screen" />
<script type="text/javascript">
	jQuery.sap.require("sap.ui.test.Opa5");
	jQuery.sap.require("sap.ui.test.opaQunit");
	var opa5 = sap.ui.test.Opa5;
	jQuery.sap.require("opa5.Arrangements.arrangements");
	jQuery.sap.require("opa5.Actions.actions_geofence");
	jQuery.sap.require("opa5.Assertions.assertions_geofence");

	sap.ui.test.Opa5.extendConfig({
		arrangements : new opa5.Arrangements.arrangements,
		actions : new opa5.Actions.actions_geofence,
		assertions : new opa5.Assertions.assertions_geofence,
	});

	opaTest("Should see the apps tiles on the launchpad", function(Given, When,
			Then) {
		// Arrangements
		Given.iStartMyApp();

		//Actions
		When.waitFor({
			id : "masterTileContainerPage",
			viewName : "splView.tileContainer.MasterTileContainer",
			success : function(oPage) {
				this.getContext().oAppsPage = oPage;
			}
		});
		Then.iShouldSeeTiles();
	});

	opaTest("Should navigate to Traffic Status App",
			function(Given, When, Then) {
				When.iclickonTrafficStatusTile();
				Then.iSeeTrafficStatusPage();
			});

	opaTest("Should click on Entities button and see all entities", function(
			Given, When, Then) {
		When.iClickOnEntitiesButton();
		Then.iSeeAllEntities();
	});

	opaTest("Should click on geofence icon and get the list ", function(Given,
			When, Then) {
		When.iClickOnGeofenceIcon();
		Then.iSeeGeofenceList();
	});

	opaTest("Click on group by icon", function(Given, When, Then) {
		When.iClickOnGroupbyButton();
		Then.iSeeDialogForGroupby();
	});

	opaTest("Click on Company radio button", function(Given, When, Then) {
		When.iClickOnCompany().and.iClickOnOKButton().and.iSeeGeofencelist();
		Then.iCheckGroupbyCompany();
	});

	opaTest("Click on group by icon", function(Given, When, Then) {
		When.iClickOnGroupbyButton();
		Then.iSeeDialogForGroupby();
	});

	opaTest("Click on Sharing radio button", function(Given, When, Then) {
		When.iClickOnSharing().and.iClickOnOKButton().and.iSeeGeofencelist();
		Then.iCheckGroupbySharing();
	});

	opaTest("Click on filter by icon", function(Given, When, Then) {
		When.iClickOnFilterbyButton();
		Then.iSeeDialogForFilterby();
	});

	opaTest("Click on Type list item", function(Given, When, Then) {
		When.iClickOnFilterIcon().and.iClickOnType();
		Then.iSeeDialogForGroupbyType();
	});

	opaTest("Click on Geofence radio button", function(Given, When, Then) {
		When.iClickOnGeofence().and.iClickOnOKButton().and.iSeeGeofencelist();
		Then.iCheckFilterbyGeofences();
	});

	opaTest("Click on filter by icon", function(Given, When, Then) {
		When.iClickOnFilterbyButton();
		Then.iSeeDialogForFilterby();
	});

	opaTest("Click on Type list item", function(Given, When, Then) {
		When.iClickOnFilterIcon().and.iClickOnType();
		Then.iSeeDialogForGroupbyType();
	});

	opaTest("Click on Radar radio button", function(Given, When, Then) {
		When.iClickOnRadar().and.iClickOnOKButton().and.iSeeGeofencelist();
		Then.iCheckFilterbyRadar();
	});
</script>
</head>
<body style="height: 100%">
	<div id="content"></div>
	<h1 id="qunit-header">Opa test for external viewer - ALL TESTS</h1>
	<h2 id="qunit-banner"></h2>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
</body>
</html>