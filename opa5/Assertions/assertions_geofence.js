/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
jQuery.sap.declare("OPA5TestScript.Assertions.assertions_geofence");jQuery.sap.require("sap.ui.test.Opa5");jQuery.sap.require("sap.ui.test.matchers.PropertyStrictEquals");new sap.ui.test.Opa5.extend("opa5.Assertions.assertions_geofence",{iShouldSeeTiles:function(){return this.waitFor({id:"masterTileContainerPage",viewName:"splView.tileContainer.MasterTileContainer",check:function(){return this.getContext().oAppsPage&&this.getContext().oAppsPage.getContent().length>0;},success:function(p){this.getContext().oShell=p.getParent().getParent().getParent().getParent();var P=this.getContext().oAppsPage.getContent();var o={};for(var i=0;i<P.length;i++){o[P[i].getBindingContext().getProperty().AppID]=P[i];}this.getContext().oUIAppsObject=o;console.log(o);ok(p,"Found the apps tiles : "+this.getContext().oAppsPage.getContent().length+" tiles");},errorMessage:"The apps tiles did not contain entries",});},iSeeTrafficStatusPage:function(){return this.waitFor({id:"splView.liveApp.liveApp--sapSplTrafficStatusMapContainer",success:function(){ok(true,"Traffic status page is loaded");},errorMessage:"Traffic status page is not loaded",});},iSeeAllEntities:function(){return this.waitFor({controlType:"sap.m.IconTabBar",check:function(i){return i[0];},success:function(i){ok(true,"I see all the entities"+i[0]);},errorMessage:"Did not load the icon tab bar for entities",});},iSeeGeofenceList:function(){return this.waitFor({controlType:"sap.m.List",check:function(o){return o[1].getItems();},success:function(l){ok(l,"I see the list for geofence"+l[1]);},errorMessage:"Did not load the list for geofence",});},iSeeDialogForGroupby:function(){return this.waitFor({controlType:"sap.m.Dialog",check:function(d){return d[0];},success:function(d){ok(d,"Dialog for group by appeared"+d[0]);},errorMessage:"Did not load the dialog for group by",});},iCheckGroupbyCompany:function(){var s=0;return this.waitFor({controlType:"sap.m.List",check:function(l){for(var i=0;i<l[2].getItems().length;i++){if(l[2].getItems()[i].getTitle()==="My Company Geofences"){s=1;break;}else if(l[2].getItems()[i].getTitle()==="Container Terminal"){s=1;break;}else if(l[2].getItems()[i].getTitle()==="Hub Operator"){s=1;break;}}if(s==1){return l[2].getItems()[i];}else{return false;}},success:function(l){ok(l,"Geofences are grouped by company");},errorMessage:"Geofences are not grouped by company",});},iCheckGroupbySharing:function(){var s=0;return this.waitFor({controlType:"sap.m.List",check:function(l){for(var i=0;i<l[2].getItems().length;i++){if(l[2].getItems()[i].getTitle()==="Private Geofences"){s=1;break;}else if(l[2].getItems()[i].getTitle()==="Shared Geofences"){s=1;break;}else if(l[2].getItems()[i].getTitle()==="Public Geofences"){s=1;break;}}if(s==1){return l[2].getItems()[i];}else{return false;}},success:function(l){ok(l,"Geofences are grouped by sharing");},errorMessage:"Geofences are not grouped by sharing",});},iSeeDialogForFilterby:function(){return this.waitFor({controlType:"sap.m.Dialog",check:function(d){return d[0];},success:function(d){ok(d,"Dialog for filter by appeared"+d[0]);},errorMessage:"Did not load the dialog for filter by",});},iSeeDialogForGroupbyType:function(){return this.waitFor({controlType:"sap.m.Label",check:function(l){return l[0].getText()==="Filter By: Type";},success:function(l){ok(l,"Dialog for 'group by: Type' appeared"+l[0]);},errorMessage:"Did not load the dialog for 'group by: Type'",});},iCheckFilterbyGeofences:function(){return this.waitFor({controlType:"sap.m.Label",check:function(l){return l[6].getText()=="Filter by Geofence";},success:function(l){ok(l,"The list items are filtered by geofence"+l[6]);},errorMessage:"Did not filter the list items by geofence",});},iCheckFilterbyRadar:function(){return this.waitFor({controlType:"sap.m.Label",check:function(l){return l[6].getText()=="Filter by Radar";},success:function(l){ok(l,"The list items are filtered by radar"+l[6]);},errorMessage:"Did not filter the list items by radar",});},});
