/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
jQuery.sap.declare("OPA5TestScript.Assertions.assertions_tours");jQuery.sap.require("sap.ui.test.Opa5");jQuery.sap.require("sap.ui.test.matchers.PropertyStrictEquals");new sap.ui.test.Opa5.extend("opa5.Assertions.assertions_tours",{iShouldSeeTiles:function(){return this.waitFor({id:"masterTileContainerPage",viewName:"splView.tileContainer.MasterTileContainer",check:function(){return this.getContext().oAppsPage&&this.getContext().oAppsPage.getContent().length>0;},success:function(p){this.getContext().oShell=p.getParent().getParent().getParent().getParent();var P=this.getContext().oAppsPage.getContent();var o={};for(var i=0;i<P.length;i++){o[P[i].getBindingContext().getProperty().AppID]=P[i];}this.getContext().oUIAppsObject=o;console.log(o);ok(p,"Found the apps tiles : "+this.getContext().oAppsPage.getContent().length+" tiles");},errorMessage:"The apps tiles did not contain entries",});},iSeeToursPage:function(){return this.waitFor({id:"splView.managetours.ManageToursContainer--sapSplManageToursAppContainer",check:function(p){return p;},success:function(p){ok(true,"Tours status page is loaded"+p);},errorMessage:"Tours page is not loaded"});},iSeeCreateNewToursPage:function(){return this.waitFor({id:"splView.managetours.ManageToursContainer--sapSplManageToursAppContainer",success:function(p){ok(true,"Tours status page is loaded"+p);},errorMessage:"Tours page is not loaded"});},FreightItemsAdded:function(){return this.waitFor({id:"CreateNewTour--SapSplAddFreightItemsTable",check:function(t){return((t.getItems()[0].getCells()[0].getText()===container_code)&&(t.getItems()[0].getCells()[2].getText()===container_type))},success:function(t){ok(true,"Freight items added successfully"+t);},errorMessage:"Freight items not added"});},iSeeSelectStopDialog:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(d){ok(true,"Dialog for select stop is visible"+d);},errorMessage:"Dialog for select stop is not visible",});},PartnerFieldIsVisible:function(){return this.waitFor({id:"CreateNewTour--AddStopsLayout",check:function(l){return l.getContent()[0].getContent()[1].getContent()[0].getText()==="Partner:";},success:function(l){ok(l,"Partner field is visible"+l.getContent()[0].getContent()[1].getContent()[0]);},errorMessage:"Partner field is not visible",});},TwoFieldsAreVisible:function(){return this.waitFor({controlType:"sap.m.Dialog",check:function(d){return((d[0].getContent()[0].getContent()[0].getItems()[0].getCells()[6].getPlaceholder()==="Enter Order ID")&&(d[0].getContent()[0].getContent()[0].getItems()[0].getCells()[7].getPlaceholder()==="Enter destination details"))},success:function(d){ok(true,"Fields for Order ID and destination Description are visible");},errorMessage:"Fields for Order ID and destination Description are not visible",});},iSeeAssignedFreightItemsInTable:function(){return this.waitFor({id:"CreateNewTour--AddStopsLayout",check:function(l){return l.getContent()[0].getContent()[2].getContent()[0].getItems()[0].getCells()[0].getText()==="1234";},success:function(l){ok(l,"The assigned freight items are visible in the freight items table");},errorMessage:"The assigned freight items are not visible in the freight items table",});},});
