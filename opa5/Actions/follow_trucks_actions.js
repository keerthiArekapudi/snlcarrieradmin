/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
jQuery.sap.declare("opa5.Actions.follow_trucks_actions");jQuery.sap.require("sap.ui.test.Opa5");jQuery.sap.require("sap.ui.test.matchers.PropertyStrictEquals");new sap.ui.test.Opa5.extend("opa5.Actions.actions",{findHeaderUserItem:function(){return this.waitFor({id:"sapSplBaseUnifiedShell",success:function(c){c.getUser().firePress();ok(true,"clicked on User's Profile!");},errorMessage:"Did not find the sapSplBaseUnifiedShell"});},clickOnProfileAndSettings:function(){return this.waitFor({controlType:"sap.m.ActionSheet",success:function(c){c[0].getButtons()[0].firePress();ok(true,"clicked on Profile and Settings!");},errorMessage:"Did not find My Profile Button"});},clickOnFollowTrucksFilter:function(){return this.waitFor({id:"splView.profile.UserProfile--sapSclIconTabFilterFollowTrucks",success:function(c){c.getParent().getParent().setSelectedKey(c.getKey());c.getParent().getParent().fireSelect({selectedKey:c.getKey()});},errorMessage:"Did not find Follow Trucks Filter"});},openViewSettingsDialog:function(){return this.waitFor({controlType:"sap.m.Button",matchers:new sap.ui.test.matchers.PropertyStrictEquals({name:"icon",value:"sap-icon://filter"}),success:function(c){c[0].firePress();},errorMessage:"Did not find Filter button"});},selectFilterByStatus:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(c){c[1].getContent()[0].getCurrentPage().getContent()[1].getItems()[0].firePress();},errorMessage:"Did not find status filter item"});},iSelectActiveAndInactiveFilters:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(d){d[1].getContent()[0].getCurrentPage().getContent()[0].getItems()[0].setSelected(true);d[1].getContent()[0].getCurrentPage().getContent()[0].getItems()[1].setSelected(true);ok(true,"clicked on the filters");},errorMessage:"Didn't find the filter list"});},iClickonOK:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(d){d[1].getButtons()[0].firePress();ok(true,"clicked on OK");},errorMessage:"Did not find status filter item"});},selectFilterActiveTruck:function(){return this.waitFor({controlType:"sap.m.NavContainer",success:function(c){var l=c[0].getCurrentPage().getContent()[0].getItems()[0];c[0].getCurrentPage().getContent()[0].setSelectedItem(l);},errorMessage:"Did not find filter dialog"});},iClickOnEdit:function(){return this.waitFor({controlType:"sap.m.Button",success:function(b){b[4].firePress();ok(true,"found the button!");},errorMessage:"Didn't find the button"});},iClickOnSubscribe:function(){return this.waitFor({controlType:"sap.m.Table",success:function(t){this.itemLength=t[0].getItems().length;for(var i=0;i<10;i++){if(t[0].getItems()[i].getCells()[4].getEditable()){if(t[0].getItems()[i].getCells()[4].getSelected()){t[0].getItems()[i].getCells()[4].setSelected(false);}else{t[0].getItems()[i].getCells()[4].setSelected(true);}}}ok(true,"subscribe checkbox checked!");},errorMessage:"Didn't click on the subscribe checkbox"});},iClickOnSave:function(){return this.waitFor({controlType:"sap.m.Button",success:function(b){b[4].firePress();ok(true,"save button pressed!");}})},iClickOnOKinDialog:function(){return this.waitFor({controlType:"sap.m.Dialog",success:function(d){d[0].getButtons()[0].firePress();},errorMessage:"Didn't find the dialog"});},iGetARandomTruckNumber:function(){return this.waitFor({controlType:"sap.m.Table",success:function(t){var r=Math.floor(Math.random()*(this.itemLength-0+1));this.randomTruckNumber=t[0].getItems()[r].getCells()[0].getText();},errorMessage:"Didn't find the toolbar"});},iEnterATruckNumber:function(){return this.waitFor({controlType:"sap.m.Toolbar",success:function(t){t[0].getContent()[2].setValue(this.randomTruckNumber);t[0].getContent()[2].fireEvent("search",{query:this.randomTruckNumber});},errorMessage:"Couldn't enter a truck number!"});},});
