/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
$.sap.declare("splReusable.libs.SapSplHelpHandler");$.sap.require("splReusable.libs.Utils");
splReusable.libs.SapSplHelpHandler=function(){this.oAppHelpInfo={appId:null,appName:null,appDescription:null,appPath:null,iUrl:null,eUrl:null};};
splReusable.libs.SapSplHelpHandler.prototype.launchHelp=function(){var _=this.oAppHelpInfo,h=null,H=null,c=($(".sapUiBody").height()*1).toString()+"px",C=($(".sapUiBody").width()*1).toString()+"px";function g(){var a=_["iUrl"],b=a.split("/"),d=b[b.length-1],e=d.split(".")[0],f=d.split(".")[1],i=e+"_"+sap.ui.getCore().getConfiguration().getLocale().getLanguage(),j=i+"."+f;return a.replace(d,j);}if(oSapSplUtils.getHelpType()===SapSplEnums.PDFHELP){h="<iframe style=\"overflow-y: hidden\" seamless=\"seamless\" frameborder=\"0\" scrolling=\"no\" class='sapSplHelpDialogIFrame' src="+"\""+g()+"\""+"/>";}else{h="<iframe style=\"overflow-y: hidden\" seamless=\"seamless\" frameborder=\"0\" scrolling=\"no\" class='sapSplHelpDialogIFrame' src="+"\""+_["eUrl"]+"\""+"/>";}H=new sap.m.Dialog({title:_["appDescription"],contentHeight:c,contentWidth:C,content:[new sap.ui.core.HTML({content:h})],endButton:new sap.m.Button({text:oSapSplUtils.getBundle().getText("CLOSE"),id:"SapSplHelpCloseButton",press:function(){H.close();H.destroy();}})}).addStyleClass("sapSplHelpDialog");H.open(true);H.attachAfterOpen(function(){oSapSplUtils.fnSyncStyleClass(H);var d=jQuery(".sapSplHelpDialog").width();var D=jQuery(".sapSplHelpDialog").height();jQuery(".sapSplHelpDialogIFrame").css("width",(d-35)+"px");jQuery(".sapSplHelpDialogIFrame").css("height",(D-35-2*jQuery(".sapSplHelpDialog .sapMBarContainer").height()+"px"));});H.attachAfterClose(function(){this.destroy();});};
splReusable.libs.SapSplHelpHandler.prototype.setAppHelpInfo=function(a,e){if(!a.hasOwnProperty("eUrl")){sap.ui.getCore().getModel("helpModel").getData()["helpVisible"]=false;sap.ui.getCore().getModel("helpModel").refresh();return this.oAppHelpInfo;}sap.ui.getCore().getModel("helpModel").getData()["helpVisible"]=true;sap.ui.getCore().getModel("helpModel").refresh();if(!oSapSplUtils.getAppToLoad().hasOwnProperty("AppID")){this.oAppHelpInfo={appId:(e&&e.hasOwnProperty("toId"))?e.toId:null,appName:(e&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("context")&&e.data.context.getProperty("AppName")!==null)?e.data.context.getProperty("AppName"):"SAP Networked Logistics Hub",appPath:(e&&e.hasOwnProperty("toId"))?e.toId:null,appDescription:(e&&e.hasOwnProperty("data")&&e.data.hasOwnProperty("context")&&e.data.context.getProperty("AppName.description")!==null)?e.data.context.getProperty("AppName.description"):"SAP Networked Logistics Hub",iUrl:a["iUrl"],eUrl:a["eUrl"]};}else{this.oAppHelpInfo={appId:oSapSplUtils.getAppToLoad()["AppID"],appName:oSapSplUtils.getAppToLoad()["AppName"],appDescription:oSapSplUtils.getAppToLoad()["AppName.description"],appPath:oSapSplUtils.getAppToLoad()["AppPath"],iUrl:a["iUrl"],eUrl:a["eUrl"]};}return this;};
var oSapSplHelpHandler=new splReusable.libs.SapSplHelpHandler();
