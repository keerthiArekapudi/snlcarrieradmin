/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.controller("splController.registeration.MyBusinessPartnerMaster",{splitAppBaseInstance:null,isNoData:false,getEmptyBusinessPartnerRegistrationData:function(r,R,m){var e={};e["POC"]={};e["UUID"]="";e["Editable"]=false;e["OrgUUID"]="";e["BasicInfo.ID"]="";e["BasicInfo.CompanyID"]="";e["BasicInfo.Type"]="";e["Organization.Name"]="";e["Organization.RegistrationNumber"]="";e["Organization.Registry"]="";e["PersonName.Title"]="";e["PersonName.Surname"]="";e["PersonName.GivenName"]="";e["PersonName.JobFunction"]="";e["PersonName.SurnamePrefix"]="";e["PostalAddress_Country"]="";e["PostalAddress_District"]="";e["PostalAddress_PostalCode"]="";e["PostalAddress_Street"]="";e["PostalAddress_StreetName"]="";e["PostalAddress_Town"]="";e["CommunicationInfo.EmailAddress"]="";e["CommunicationInfo.Fax"]="";e["CommunicationInfo_Phone"]="";e["CommunicationInfo.Website"]="";e["Validity.StartTime"]="";e["Validity.EndTime"]="";e["Owner"]="";e["InvitedByOrganization"]="";e["OrganizationRoles.Role1"]="";e["OrganizationRoles.Role2"]="";e["OrganizationRoles.Role3"]="";e["OrganizationRoles.Role4"]="";e["MainUserRoles.Role1"]="";e["MainUserRoles.Role2"]="";e["MainUserRoles.Role3"]="";e["MainUserRoles.Role4"]="";e["RequestType"]="";e["POC"]["PersonName_Surname"]="";e["POC"]["PersonName_GivenName"]="";e["POC"]["CommunicationInfo_EmailAddress"]="";e["POC"]["CommunicationInfo_Phone"]="";e["POC"]["PersonName_JobFunction"]="";if(m&&m==="create"){e["isClicked"]=true;e["noData"]=false;e["showFooterOptions"]=true;}else{e["isClicked"]=false;e["noData"]=true;e["showFooterOptions"]=false;}if(r){e["Role"]=r;}else{e["Role"]="";}if(R){e["Role_description"]=R;}else{e["Role_description"]="";}return e;},fireSelectionOfRoleForCreate:function(e){var t=this;var a=jQuery.extend(true,{},e),F;if(!this.splitAppBaseInstance.getDetailPage("FreelancerConnectDetail")){F=sap.ui.view({id:"FreelancerConnectDetail",viewName:"splView.registeration.FreelancerConnectDetail",type:sap.ui.core.mvc.ViewType.XML});F.getController().setSplitAppInstance(this.splitAppBaseInstance);F.addEventDelegate({onBeforeShow:jQuery.proxy(F.getController().onBeforeShow,F.getController())});F.getController().setUnifiedShellInstance(this.getUnifiedShellInstance());this.splitAppBaseInstance.addDetailPage(F);}if(oSapSplUtils.getCurrentDetailPageBP().sId==="NewBusinessPartnerRegistrationDetail"){if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(b){if(b==="YES"){t.navigateToInviteNewBusinesspartner(a);oSapSplUtils.setIsDirty(false);}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{this.navigateToInviteNewBusinesspartner(e);}}else if(sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData().Editable===true&&oSapSplUtils.getCurrentDetailPageBP().sId==="MyBusinessPartnerDetail"){var s=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData(),c=null,m=null;if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(b){if(b==="YES"){oSapSplUtils.setIsDirty(false);oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBuPaDetailsEditButton").setText(oSapSplUtils.getBundle().getText("EDIT_BUPA"));oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBupaEditCancel").setVisible(false);s["Editable"]=false;s["ExternalInstanceID"]=s["ExternalInstanceIDInitial"];sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(s);t.navigateToInviteNewBusinesspartner(a);}});}else{this.navigateToInviteNewBusinesspartner(e);}}else{this.navigateToInviteNewBusinesspartner(e);}},navigateToInviteNewBusinesspartner:function(e){var p=this.oActionSheet.sId;var b=sap.ui.getCore().getEventBus(),m;oSapSplUtils.getCurrentMasterPageBP().byId("myBusinessPartnerList").removeSelections();if(oSapSplUtils.getCurrentDetailPageBP().getController().byId("sapSplBusinessPartnerSearchField")){oSapSplUtils.getCurrentDetailPageBP().getController().byId("sapSplBusinessPartnerSearchField").setValue("");oSapSplUtils.getCurrentDetailPageBP().getController().byId("sapSplBusinessPartnerSearchField").focus();}if(oSapSplUtils.getCurrentDetailPageBP().sId==="FreelancerConnectDetail"){m={"Role":e.getSource().getBindingContext().getProperty().GrantableRole,"Role.Description":e.getSource().getBindingContext().getProperty()["GrantableRole.description"],"isCancel":false,"BusinessPartners":[],"showNewBuPaLink":false,"showConnectButton":false};sap.ui.getCore().getModel("sapSplFreelancerConnectDetailModel").setData(m);oSapSplUtils.getCurrentDetailPageBP().byId("SapSplFreelancerTable").setVisible(false);oSapSplUtils.getCurrentDetailPageBP().byId("SapSplFreelancerTable").addStyleClass("freelancerTable");oSapSplUtils.getCurrentDetailPageBP().byId("SapSplFreelancerConnectRequestLabel").setText(oSapSplUtils.getBundle().getText("NO_RECORDS_AVAILABLE_MSG",m["Role.Description"]));}else{var n={};if(!oSapSplUtils.getCompanyDetails().canChangeSearch){if(!this.splitAppBaseInstance.getDetailPage("NewBusinessPartnerRegistrationDetail")){var a=sap.ui.view({id:"NewBusinessPartnerRegistrationDetail",viewName:"splView.registeration.NewBusinessPartnerRegistrationDetail",type:sap.ui.core.mvc.ViewType.XML});a.addEventDelegate({onBeforeShow:jQuery.proxy(a.getController().onBeforeShow,a.getController())});a.getController().setUnifiedShellInstance(this.getUnifiedShellInstance());this.splitAppBaseInstance.addDetailPage(a);}n=this.getEmptyBusinessPartnerRegistrationData(e.getSource().getBindingContext().getProperty().GrantableRole,e.getSource().getBindingContext().getProperty()["GrantableRole.description"],"create");}else{this.oActionSheet.sId="FreelancerActionSheet";n={"Role":e.getSource().getBindingContext().getProperty().GrantableRole,"Role.Description":e.getSource().getBindingContext().getProperty()["GrantableRole.description"]};}b.publish("navInDetailBP","to",{from:this.oActionSheet,data:{context:n}});this.oActionSheet.sId=p;}},openActionSheet:function(e){this.oActionSheet.openBy(e.getSource());},createActionSheet:function(){if(!this.oActionSheet){this.oActionSheet=new sap.m.ActionSheet({id:"MyBusinessPartnerActionSheet",title:"Choose Your Action",showCancelButton:true,placement:sap.m.PlacementType.Top});var r=new sap.m.Button({text:"{GrantableRole.description}",press:jQuery.proxy(this.fireSelectionOfRoleForCreate,this)});this.oActionSheet.bindAggregation("buttons","/results",r);this.oActionSheet.setModel(new sap.ui.model.json.JSONModel(this.aRolesForTargetRelation));}},successOfRolesOdata:function(r){if(r.results.length>0){this.aRolesForTargetRelation=r;this.createActionSheet();}else{this.byId("sapSplAddBusinessPartnerButton").setVisible(false);}},errorOfRolesOdata:function(){},getRolesForRelation:function(){var m=sap.ui.getCore().getModel("myBusinessPartnerListODataModel");var d=null,D=[],i=true;var u="/GrantableRoles";if(m){m.read(u,d,D,i,jQuery.proxy(this.successOfRolesOdata,this),jQuery.proxy(this.errorOfRolesOdata,this));}},handleMyContactSelect:function(s){var t=this,m;if(oSapSplUtils.getCurrentDetailPageBP().sId==="NewBusinessPartnerRegistrationDetail"){if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(b){if(b==="YES"){t.updateBusinessPartnerDetailPage(s);oSapSplUtils.setIsDirty(false);}else{m=oSapSplUtils.getCurrentMasterPageBP().byId("myBusinessPartnerList");m.removeSelections();}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{t.updateBusinessPartnerDetailPage(s);}}else if(sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData().Editable===true&&oSapSplUtils.getCurrentDetailPageBP().sId==="MyBusinessPartnerDetail"){var a=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData(),c=null,M=null;if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(b){if(b==="YES"){oSapSplUtils.setIsDirty(false);oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBuPaDetailsEditButton").setText(oSapSplUtils.getBundle().getText("EDIT_BUPA"));oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBupaEditCancel").setVisible(false);a["Editable"]=false;a["ExternalInstanceID"]=a["ExternalInstanceIDInitial"];sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(a);t.updateBusinessPartnerDetailPage(s);}else{c=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();M=t.byId("myBusinessPartnerList");if(c.UUID){for(var i=0;i<M.getItems().length;i++){if(M.getItems()[i].constructor===sap.m.StandardListItem){if(M.getItems()[i].getBindingContext().getProperty().UUID===c.UUID){M.setSelectedItem(M.getItems()[i]);break;}}}}else{M.removeSelections();}}});}else{a["Editable"]=false;sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(a);oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBupaEditCancel").setVisible(false);oSapSplUtils.getCurrentDetailPageBP().getController().byId("MyBuPaDetailsEditButton").setText(oSapSplUtils.getBundle().getText("EDIT_BUPA"));}}else{this.updateBusinessPartnerDetailPage(s);}},updateBusinessPartnerDetailPage:function(s){var S="",a;S=oSapSplUtils.getFQServiceUrl("/sap/spl/xs/app/services/appl.xsodata/")+"MyBusinessPartners(X'"+oSapSplUtils.base64ToHex(s.UUID)+"')/PointOfContact?$format=json";s["SelectedKey"]="info";s["POC"]=this.getPointOfContactInfo(S);s["Trucks"]={};s["Editable"]=false;if(s["ExternalInstanceID"]===null){s["ExternalInstanceID"]="";}s["ExternalInstanceIDInitial"]=s["ExternalInstanceID"];if(s.isVehicleSharable!=="0"&&s.RequestStatus!=="0"){a=this.getSharedPermissionData(s.UUID);s["Trucks"]["SharePermissions"]=$.extend(true,[],a);s.truckPermissions=$.extend(true,[],a);}s["noData"]=false;s["isClicked"]=true;s["showFooterOptions"]=true;if(oSapSplUtils.getCurrentDetailPageBP().sId==="MyBusinessPartnerDetail"){sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(s);sap.ui.getCore().byId("MyBusinessPartnerDetail--SapSplBupaIconTabBar").rerender();}else{var b=sap.ui.getCore().getEventBus();b.publish("navInDetailBP","to",{from:this.getView(),data:{context:s}});}sap.ui.getCore().byId("MyBusinessPartnerDetail--MyBuPaDetailsEditButton").setText(oSapSplUtils.getBundle().getText("EDIT_BUPA"));sap.ui.getCore().byId("MyBusinessPartnerDetail--MyBupaEditCancel").setVisible(false);},getSharedPermissionData:function(U){var m=sap.ui.getCore().getModel("myBusinessPartnerListODataModel");var s=[];var d=null,D=[],i=false;var u="/MyBusinessPartners(X'"+encodeURIComponent(oSapSplUtils.base64ToHex(U))+"')/SharedTrucks";if(m){m.read(u,d,D,i,function(r){s=r.results;},function(){});}if(s){return s;}},getPointOfContactInfo:function(u){var r={};if(u&&u.constructor===String){oSapSplAjaxFactory.fireAjaxCall({url:u,method:"GET",async:false,success:function(d){if(d.d.results.constructor===Array&&d.d.results.length>0){r=d.d.results[0];}},error:function(){}});return r;}},onSelectOfContact:function(e){this.handleMyContactSelect(e.getParameter("listItem").getBindingContext().getProperty());},selectFirstItem:function(c){var s,a,b;a=this.getView().byId("myBusinessPartnerList");if(a.getItems()[c].constructor===sap.m.StandardListItem){this.getView().byId("myBusinessPartnerList").setSelectedItem(a.getItems()[c]);s=a.getItems()[c].getBindingContext().getProperty();if(c===0||c===1){document.getElementById(this.getView().byId("sapSplSearchBusinessPartnerMasterList").getId()).scrollIntoView(true);}else{b=a.getItems()[c].getId();window.setTimeout(function(){document.getElementById(b).scrollIntoView(true);},0);}}else{a.getItems()[c+1].setSelected(true);s=a.getItems()[c+1].getBindingContext().getProperty();}this.updateBusinessPartnerDetailPage(s);},afterRenderingOfMyBusinesspartnerList:function(){oSapSplBusyDialog.getBusyDialogInstance().close();var s=null,S=0,a=[],o=null,l=(this.byId("myBusinessPartnerList").getCustomData().length>0)?this.byId("myBusinessPartnerList").getCustomData()[this.byId("myBusinessPartnerList").getCustomData().length-1].getKey():null,_=1;this.byId("MyBusinessPartnerMasterPage").setTitle(oSapSplUtils.getBundle().getText("MY_BUSINESS_PARTNER_MASTER_TITLE",[splReusable.libs.Utils.prototype.getListCount(this.byId("myBusinessPartnerList"))]));try{o=this.getView().byId("myBusinessPartnerList");if(o){a=o.getItems();S=a.length;for(var c=0;c<S;c++){if(a[c].constructor!==sap.m.GroupHeaderListItem){if(l===a[c].getBindingContext().getProperty("UUID")){_=c;break;}}}if(S>0){if(S&&S>0){if(a[0].constructor===sap.m.StandardListItem){s=a[0].getBindingContext().getProperty();}else{s=a[1].getBindingContext().getProperty();}window.sessionStorage.setItem("CompanyID",s["BasicInfo_CompanyID"]);window.sessionStorage.setItem("OrgName",s["Organization_Name"]);window.sessionStorage.setItem("OrgRegNum",s["Organization_RegistrationNumber"]);window.sessionStorage.setItem("OrgRegistry",s["Organization_Registry"]);}}this.selectFirstItem(_);var m=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();if(S>0){m["noData"]=false;m["isClicked"]=true;m["showFooterOptions"]=true;}else{m["noData"]=true;m["isClicked"]=false;m["showFooterOptions"]=false;}sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(m);}else{throw new Error();}}catch(e){if(e.constructor===Error()){jQuery.sap.log.error(e.message,"Number of list items of BP list is 0 , cannot select the first item.",this.getView().getControllerName());}}},fnDefineControlLabelsFromLocalizationBundle:function(){this.byId("myBusinessPartnerList").setNoDataText(oSapSplUtils.getBundle().getText("NO_BUPAS_TEXT"));this.byId("sapSplAddBusinessPartnerButton").setTooltip(oSapSplUtils.getBundle().getText("NEW_CONTACT_ADD"));this.byId("sapSplSearchBusinessPartnerMasterList").setTooltip(oSapSplUtils.getBundle().getText("SEARCH"));},onAfterRendering:function(){oSapSplQuerySelectors.getInstance().setBackButtonTooltip();this.getView().byId("sapSplSearchBusinessPartnerMasterList").focus();},ODataModelRequestCompleted:function(){this.afterRenderingOfMyBusinesspartnerList();},InstantiateListAfterRenderingDelegate:function(){},onInit:function(){this.unifiedShell=null;var s=sap.ui.getCore().getModel("myBusinessPartnerListODataModel"),S=null,o=null,a=null;s.setCountSupported(false);s.attachRequestFailed(function(){oSapSplBusyDialog.getBusyDialogInstance().close();});s.attachRequestCompleted(jQuery.proxy(this.ODataModelRequestCompleted,this));S=new sap.ui.model.Sorter("Role.description",false,function(c){var k=c.getProperty("Role.description").toLowerCase();return{key:k,text:k};});o=new sap.ui.model.Filter("isOwner",sap.ui.model.FilterOperator.NE,"1");this.getView().byId("myBusinessPartnerList").setModel(sap.ui.getCore().getModel("myBusinessPartnerListODataModel"));a=this.getView().byId("myBusinessPartnerList").getBinding("items");a.sort(S);a.filter([o]);this.fnDefineControlLabelsFromLocalizationBundle();this.getRolesForRelation(oSapSplUtils.getCompanyDetails().UUID);this.InstantiateListAfterRenderingDelegate();},setSplitAppInstance:function(i){this.splitAppBaseInstance=i;},onBeforeShow:function(){var n="",g="",m=null;n=jQuery.sap.getUriParameters().get("navToHome");g=jQuery.sap.getUriParameters().get("goto");m=this.byId("MyBusinessPartnerMasterPage");if(g){if(n&&n==="false"){m.setShowNavButton(false);}else if(n&&n==="true"){m.setShowNavButton(true);}else{m.setShowNavButton(false);}}else{m.setShowNavButton(true);}},fnHandleBackNavigation:function(){var b=null;b=oSplBaseApplication.getAppInstance();this.byId("myBusinessPartnerList").removeAllCustomData();if(b.getPreviousPage()){b.back();}else{b.to("splView.tileContainer.MasterTileContainer");}},getUnifiedShellInstance:function(){return this.unifiedShell;},setUnifiedShellInstance:function(u){this.unifiedShell=u;},setIsNoData:function(_){this.isNoData=_;},getIsNoData:function(){return this.isNoData;},fnToHandleSearchOfMyBusinessPartners:function(e){var s=e.getParameters().query;var S,o,a;var p,t=this,m;a=t.getView().byId("myBusinessPartnerList");if(s.length>2){p=this.prepareSearchPayload(s);this.callSearchService(p);}else if(a.getBinding("items")===undefined||a.getBinding("items").aFilters.length>1||e.getParameters().refreshButtonPressed===true){sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(this.getEmptyBusinessPartnerRegistrationData());S=new sap.ui.model.Filter("isOwner",sap.ui.model.FilterOperator.NE,"1");o=new sap.ui.model.Sorter("Role.description",false,function(c){var k=c.getProperty("Role.description").toLowerCase();return{key:k,text:k};});a.unbindAggregation("items");a.bindItems({path:"/MyBusinessPartners",template:t.getView().byId("myBusinessPartnerListItem")});a.getBinding("items").sort(o);a.getBinding("items").filter([S]);m=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["showFooterOptions"]=false;m["Editable"]=false;sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(m);}},prepareSearchPayload:function(s){var p={};p.UserID=oSapSplUtils.getLoggedOnUserDetails().usreID;p.ObjectType="BusinessPartner";p.SearchTerm=s;p.FuzzinessThershold=SapSplEnums.fuzzyThreshold;p.MaximumNumberOfRecords=50;p.ProvideDetails=false;p.SearchInNetwork=true;p.AdditionalCriteria={};p.AdditionalCriteria.BusinessPartnerType="O";p.AdditionalCriteria.SearchPending=true;return p;},callSearchService:function(p){var s,S=[],o,a;var t=this,m;oSapSplAjaxFactory.fireAjaxCall({url:oSapSplUtils.getFQServiceUrl("/sap/spl/xs/app/services/Search.xsjs"),method:"POST",async:false,dataType:"json",cache:false,beforeSend:function(r){r.setRequestHeader("X-CSRF-Token",oSapSplUtils.getCSRFToken());r.setRequestHeader("Content-Type","application/json; charset=UTF-8");},data:JSON.stringify(p),success:function(d,b,c){oSapSplBusyDialog.getBusyDialogInstance().close();if(c["status"]===200){a=t.getView().byId("myBusinessPartnerList");sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(t.getEmptyBusinessPartnerRegistrationData());S.push(new sap.ui.model.Filter("isOwner",sap.ui.model.FilterOperator.NE,"1"));o=new sap.ui.model.Sorter("Role.description",false,function(C){var k=C.getProperty("Role.description").toLowerCase();return{key:k,text:k};});a.unbindAggregation("items");if(d.length>0){s=oSapSplUtils.getSearchItemFilters(d);if(s.aFilters.length>0){S.push(s);}a.bindItems({path:"/MyBusinessPartners",template:t.getView().byId("myBusinessPartnerListItem")});a.getBinding("items").sort(o);a.getBinding("items").filter(S);m=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();m["noData"]=false;m["isClicked"]=true;m["showFooterOptions"]=true;sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(m);}else{m=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["showFooterOptions"]=false;sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(m);t.byId("MyBusinessPartnerMasterPage").setTitle(oSapSplUtils.getBundle().getText("MY_BUSINESS_PARTNER_MASTER_TITLE","0"));}}else if(d["Error"]&&d["Error"].length>0){var e=oSapSplUtils.getErrorMessagesfromErrorPayload(d)["ufErrorObject"];sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:oSapSplUtils.getErrorMessagesfromErrorPayload(d)["errorWarningString"],details:e});}},error:function(e){oSapSplBusyDialog.getBusyDialogInstance().close();m=sap.ui.getCore().getModel("myBusinessPartnerDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["showFooterOptions"]=false;sap.ui.getCore().getModel("myBusinessPartnerDetailModel").setData(m);if(e&&e["status"]===500){sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:e["status"]+"\t"+e.statusText,details:e.responseText});}else{sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:oSapSplUtils.getErrorMessagesfromErrorPayload(JSON.parse(e.responseText))["errorWarningString"],details:oSapSplUtils.getErrorMessagesfromErrorPayload(JSON.parse(e.responseText))["ufErrorObject"]});}},complete:function(){}});}});
