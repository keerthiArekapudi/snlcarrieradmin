/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.controller("splController.managetours.ManageToursContainer",{onInit:function(){this.oToursAppContainer=this.getView().byId("sapSplManageToursAppContainer");this.instantiatePages();this.setInitialState();this.fnDefineControlLabelsFromLocalizationBundle();this.getView().addEventDelegate({onAfterShow:function(E){try{window.setTimeout(function(){if(E.srcControl.getCurrentPage().getContent()[0].getCurrentPage().constructor===sap.ui.core.mvc.XMLView){E.srcControl.getCurrentPage().getContent()[0].getCurrentPage().getController().byId("sapSplTourOverviewSearchField").focus();}},1000);}catch(e){jQuery.sap.log.error("SAP SCL Tours Event","Focus Error "+e.toString(),"SAPSPL");}}});},onAfterRendering:function(){$('span[data-sap-ui*="ToursOverview--sapSplBackNavigationButton-img"]').attr("title",oSapSplUtils.getBundle().getText("BACK_BUTTON_TOOLTIP"));},fnDefineControlLabelsFromLocalizationBundle:function(){},onBeforeShow:function(e){var v=null;this.oToursAppContainer.to("ToursOverview");if(e.data&&e.data["FromApp"]==="liveApp"){v=e.data["VehicleUUID"];}this.oToursAppContainer.getPages()[0].getController().fnHandleNavigationSearch(v);if(this.oToursAppContainer.getCustomData()[0]){this.oToursAppContainer.getPages()[0].getController().onBeforeShow();}this.setCurrentAppInfo(e);},setCurrentAppInfo:function(e){oSapSplHelpHandler.setAppHelpInfo({iUrl:"./help/SCLTours.pdf",eUrl:"//help.sap.com/saphelp_scl10/helpdata/en/ef/cce153cafa9117e10000000a44176d/content.htm?frameset=/en/d4/dbe153cafa9117e10000000a44176d/frameset.htm&current_toc=/en/b7/8ee25341d61e4ee10000000a423f68/plain.htm&node_id=11&show_children=false"},e);},instantiatePages:function(){var T=null;T=sap.ui.view({id:"ToursOverview",viewName:"splView.managetours.ToursOverview",type:sap.ui.core.mvc.ViewType.XML});T.addEventDelegate({onBeforeShow:jQuery.proxy(T.getController().onBeforeShow,T.getController())});this.oToursAppContainer.addPage(T);},setInitialState:function(){this.getView().byId("sapSplManageToursAppContainer").setInitialPage("ToursOverview");if(jQuery.sap.getUriParameters().get("navToHome")&&jQuery.sap.getUriParameters().get("navToHome")==="true"){oSapSplUtils.showHeaderButton({showButton:true,sNavToPage:"splView.tileContainer.MasterTileContainer"});}},getUnifiedShellInstance:function(){return this.unifiedShell;},setUnifiedShellInstance:function(u){this.unifiedShell=u;}});
