/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
jQuery.sap.require("sap.ca.ui.message.message");sap.ui.controller("splController.dialogs.SplDriverDetailDialog",{onInit:function(){this.getView().byId("SapSplDriverListHeaderTitle").setText(oSapSplUtils.getBundle().getText("DRIVERS"));this.getView().byId("SapSplSelectDriverList").setNoDataText(oSapSplUtils.getBundle().getText("NO_DRIVERS_TEXT"));this.getView().byId("SapSplDriverListBar").addStyleClass("DriverBar");},setParentDialogButtonStateBasedOnCurrentPage:function(p){if(!this.oSapSplSendMessageCancelButton){this.oSapSplSendMessageCancelButton=new sap.m.Button({press:jQuery.proxy(this.fnHandlePressOfSendMessageDialogCancel,this)});}if(p==="DriverDetail"){this.oSapSplSendMessageCancelButton.setText(oSapSplUtils.getBundle().getText("MY_COLLEAGUES_CANCEL_BUTTON"));this.oParentDialogInstance.setBeginButton(this.oSapSplSendMessageCancelButton);}},fnHandlePressOfSendMessageDialogCancel:function(){this.getView().getParent().getParent().close();this.getView().getParent().getParent().destroy();},setParentDialogInstance:function(p){this.oParentDialogInstance=p;this.setParentDialogButtonStateBasedOnCurrentPage("DriverDetail");},fnHandleSelectOfListItem:function(e){var d=null,v=null,V=null;if(!oSapSplUtils.getIsDirty()){oSapSplUtils.setIsDirty(true);}d=e.getParameter("listItem").getBindingContext().getProperty();V=sap.ui.getCore().getModel("myVehiclesAddVehicleModel").getData();v=V.data;v.VehicleDriverFirstName=d["PersonName_Surname"];v.DriverName=d["PersonName_GivenName"]+" , "+d["PersonName_Surname"];V.data=v;v.VehicleDriverUUID=d["UUID"];sap.ui.getCore().getModel("myVehiclesAddVehicleModel").setData(V);this.getView().getParent().getParent().close();this.getView().getParent().getParent().destroy();}});
