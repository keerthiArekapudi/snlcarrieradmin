/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.controller("splController.adminConsole.MaintenanceNotifierMasterDetailContainer",{onInit:function(){this.oSplitApp=this.getView().byId("SapSplMaintenanceNotifierSplitApp");this.instantiatePages();this.setInitialState();this.fnDefineControlLabelsFromLocalizationBundle();this.appID="userNotification";},instantiatePages:function(){var m=null,M=null,o=null;o=sap.ui.view({id:"MaintenanceNotifierMaster",viewName:"splView.adminConsole.MaintenanceNotifierMaster",type:sap.ui.core.mvc.ViewType.XML,viewData:this.getView()});M=sap.ui.view({id:"MaintenanceNotifierDetail",viewName:"splView.adminConsole.MaintenanceNotifierDetail",type:sap.ui.core.mvc.ViewType.XML});m=sap.ui.view({id:"MaintenanceNotifierAddNotificationDetail",viewName:"splView.adminConsole.MaintenanceNotifierDetailAddNotification",type:sap.ui.core.mvc.ViewType.XML});M.addEventDelegate({onBeforeShow:jQuery.proxy(M.getController().onBeforeShow,M.getController())});m.addEventDelegate({onBeforeShow:jQuery.proxy(m.getController().onBeforeShow,m.getController())});splReusable.libs.SapSplStyleSheetLoader.loadStyle("./resources/styles/splMaintenanceNotifier","css");try{if(this.oSplitApp){this.oSplitApp.addMasterPage(o);this.oSplitApp.addDetailPage(M);this.oSplitApp.addDetailPage(m);}else{throw new Error();}}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"Cannot access SplitApp Control in Maintenance Notifiers.",this.getView().getControllerName());}}},setInitialState:function(){try{if(this.oSplitApp){this.oSplitApp.setInitialDetail("MaintenanceNotifierMaster");this.oSplitApp.setInitialDetail("MaintenanceNotifierDetail");if(jQuery.sap.getUriParameters().get("navToHome")&&jQuery.sap.getUriParameters().get("navToHome")==="true"){oSapSplUtils.showHeaderButton({showButton:true,sNavToPage:"splView.tileContainer.MasterTileContainer"});}}else{throw new Error();}}catch(e){if(e.constructor===Error()){jQuery.sap.log.error(e.message,"SplitApp control not instantiated for Maintenance Notifier",this.getView().getControllerName());}}},fnDefineControlLabelsFromLocalizationBundle:function(){},onBeforeShow:function(e){sap.ui.getCore().getModel("UserNotificationListODataModel").refresh();sap.ui.getCore().getModel("sapSplAppConfigDataModel").setData(oSapSplUtils.getAppConfigObjectFromAllowedTiles(this.appID)[0]);this.setCurrentAppInfo(e);},setCurrentAppInfo:function(e){oSapSplHelpHandler.setAppHelpInfo({iUrl:"./help/SCLNotification.pdf",eUrl:"./help/SCLNotification.pdf"},e);},onAfterShow:function(){var c=new sap.ui.core.CustomData({key:"bRefreshTile",value:true});oSplBaseApplication.getAppInstance().getCurrentPage().destroyCustomData();oSplBaseApplication.getAppInstance().getCurrentPage().addCustomData(c);}});
