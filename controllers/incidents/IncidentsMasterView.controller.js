/*
 * Copyright (C) 2009-2015 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.controller("splController.incidents.IncidentsMasterView",{onInit:function(){var s=null,t=this;try{s=sap.ui.getCore().getModel("IncidentsListODataModel");s.setCountSupported(false);this.oSapSplIncidentsSorterPriority=new sap.ui.model.Sorter("Priority",false);this.oSapSplIncidentsSorterPriorityWithGroup=new sap.ui.model.Sorter("Priority",false,function(c){var k=c.getProperty("Priority.description");if(k){return k;}else{return"";}});this.oSapSplIncidentsSorterName=new sap.ui.model.Sorter("InternalName",false);this.oSapSplIncidentsSorterCategory=new sap.ui.model.Sorter("Category.description",false,function(c){var k=c.getProperty("Category.description");if(k){return k;}else{return"";}});s.attachRequestCompleted(jQuery.proxy(this.ODataModelRequestCompleted,this));s.attachRequestFailed(function(){if(sap.ui.getCore().getModel("SapSplIncidentsDetailModel")){var m=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["isEditable"]=0;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(m);}oSapSplBusyDialog.getBusyDialogInstance().close();this.getView().byId("sapSplIncidentSearch").focus();});this.getView().byId("SapSplIncidentsList").setModel(sap.ui.getCore().getModel("IncidentsListODataModel"));this.getView().byId("SapSplIncidentsList").getBinding("items").sort([this.oSapSplIncidentsSorterCategory,this.oSapSplIncidentsSorterName,this.oSapSplIncidentsSorterPriority]);this.getView().byId("SapSplIncidentsList").getBinding("items").filter(new sap.ui.model.Filter("isDeleted",sap.ui.model.FilterOperator.EQ,"0"));this.prepareDialogForFilters();this.preparePopOverForSorters();this.fnDefineControlLabelsFromLocalizationBundle();this.byId("FilterStatusText").setText(oSapSplUtils.getBundle().getText("FILTER_LABEL_ALL"));this.appliedFilters=[];this.appliedSorters=[];this.appliedFilters=this.byId("SapSplIncidentsList").getBinding("items").aFilters;this.appliedSorters=this.byId("SapSplIncidentsList").getBinding("items").aSorters;setTimeout(function(){t.getView().byId("sapSplIncidentSearch").focus();},1000);}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"MyIncidentsList not defined",this.getView().getControllerName());}}},fireSelectionOfIncidentsMode:function(E){var t=this;var e=jQuery.extend(true,{},E);if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(s){if(s==="YES"){oSapSplUtils.setIsDirty(false);t.navigateToAddNewIncidentPage(e);}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{this.navigateToAddNewIncidentPage(e);}},navigateToAddNewIncidentPage:function(){var d=null;var t=this;var m=this.byId("SapSplIncidentsList");if(this.getSplitAppInstance()&&this.getSplitAppInstance().getCurrentDetailPage().sId==="IncidentsDetails"){d=this.getEmptyAddIncidentsData("create");sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(d);this.getSplitAppInstance().getCurrentDetailPage().getController().fnMakeChangesToDetailPageControlsBasedOnMode("Create",d);}m.removeSelections();t.getSplitAppInstance().getCurrentDetailPage().byId("SapSplIncidentsNameInput").focus();},getEmptyAddIncidentsData:function(m){var e={};e["isDisplay"]=false;e["isEdit"]=true;e["isNotCreate"]=false;if(m&&m==="create"){e["isClicked"]=true;e["noData"]=false;if(this.byId("SapSplIncidentsList").getSelectedItems().length>0){this.getSplitAppInstance().getCurrentDetailPage().getController().incidentSelected=this.byId("SapSplIncidentsList").getSelectedItem().getBindingContext().getProperty().UUID;}}else{e["isClicked"]=false;e["noData"]=true;}return e;},fnDefineControlLabelsFromLocalizationBundle:function(){this.byId("IncidentsMasterPage").setTitle(oSapSplUtils.getBundle().getText("INCIDENTS_MASTER_PAGE_TITLE","0"));this.byId("SapSplIncidentsList").setNoDataText(oSapSplUtils.getBundle().getText("NO_INCIDENTS_TEXT"));this.byId("SapSplAddIncidentButton").setTooltip(oSapSplUtils.getBundle().getText("INCIDENTS_ADD_INCIDENTS"));this.byId("SapSplFilterIncidentsButton").setTooltip(oSapSplUtils.getBundle().getText("FILTER_BUTTON_TOOLTIP"));this.byId("SapSplGroupIncidentsButton").setTooltip(oSapSplUtils.getBundle().getText("GROUPBY_BUTTON_TOOLTIP"));this.byId("IncidentsMasters--sapSplIncidentSearch").setTooltip(oSapSplUtils.getBundle().getText("SEARCH_BUTTON_TOOLTIP"));this.byId("IncidentsMasters--sapSplIncidentSearch").setRefreshButtonTooltip(oSapSplUtils.getBundle().getText("REFRESH_BUTTON_TOOLTIP"));},prepareDialogForFilters:function(){var t=this;this.oSapSplIncidentsDialogForFilters=new sap.m.ViewSettingsDialog({filterItems:[new sap.m.ViewSettingsFilterItem({key:"priority",text:oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY"),multiSelect:true,items:{path:"/Priority",template:new sap.m.ViewSettingsItem({text:"{Name}",key:"{Key}"})}}),new sap.m.ViewSettingsFilterItem({key:"category",text:oSapSplUtils.getBundle().getText("INCIDENTS_CATEGORY"),multiSelect:true,items:{path:"/Category",template:new sap.m.ViewSettingsItem({text:"{Name}",key:"{Key}"})}})],confirm:function(e){var s=[],r=[];s=e.getParameters()["filterItems"];if(s.length===0){t.byId("FilterStatusText").setText(oSapSplUtils.getBundle().getText("FILTER_LABEL_ALL"));}else{t.byId("FilterStatusText").setText(e.getParameters().filterString.split(": ")[1]);}for(var i=0;i<s.length;i++){var I=s[i].getKey();var f=I.split("_");r.push(new sap.ui.model.Filter(f[0],sap.ui.model.FilterOperator.EQ,f[1]));}t.handleSelectOfFilter(r);},cancel:function(e){t.getView().byId("sapSplIncidentSearch").focus();}}).addStyleClass("sapUiSizeCompact");var d={Priority:[{Name:oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY_1"),Key:"Priority_1"},{Name:oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY_2"),Key:"Priority_2"},{Name:oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY_3"),Key:"Priority_3"},{Name:oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY_4"),Key:"Priority_4"}],Category:[{Name:oSapSplUtils.getBundle().getText("INCIDENTS_CATEGORY_INTERFERENCE"),Key:"Category_I"},{Name:oSapSplUtils.getBundle().getText("INCIDENTS_CATEGORY_CONTAINER"),Key:"Category_C"},{Name:oSapSplUtils.getBundle().getText("INCIDENTS_CATEGORY_PARKING"),Key:"Category_P"}]};this.oSapSplIncidentsDialogForFilters.setModel(new sap.ui.model.json.JSONModel(d));},preparePopOverForSorters:function(){var s=null;this.oSapSplIncidentsPopOverForSorters=new sap.m.Popover({placement:sap.m.PlacementType.Top,showHeader:false});s=new sap.ui.commons.layout.VerticalLayout().addStyleClass("sapSplIncidentsGroupPopover");s.addContent(new sap.m.RadioButton({id:"all",selected:false,groupName:"sort"}).setText(oSapSplUtils.getBundle().getText("FILTER_LABEL_NONE")).attachSelect(jQuery.proxy(this.handleSelectOfSorterRadioButton,this))).addContent(new sap.m.RadioButton({id:"category",selected:true,groupName:"sort"}).setText(oSapSplUtils.getBundle().getText("INCIDENTS_CATEGORY")).attachSelect(jQuery.proxy(this.handleSelectOfSorterRadioButton,this))).addContent(new sap.m.RadioButton({id:"priority",selected:false,groupName:"sort"}).setText(oSapSplUtils.getBundle().getText("INCIDENTS_PRIORITY")).attachSelect(jQuery.proxy(this.handleSelectOfSorterRadioButton,this)));this.oSapSplIncidentsPopOverForSorters.addContent(s);},onSelectOfIncidents:function(e){this.handleMyIncidentsSelect(e.getParameter("listItem").getBindingContext().getProperty());},handleMyIncidentsSelect:function(s){var t=this,m,i,c;if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(a){if(a==="YES"){t.updateIncidentDetailPage(s);oSapSplUtils.setIsDirty(false);}else{c=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m=t.byId("SapSplIncidentsList");if(c.UUID){for(i=0;i<m.getItems().length;i++){if(m.getItems()[i].sId.indexOf("oSapSplIncidentListItem")!==-1){if(m.getItems()[i].getBindingContext().getProperty().UUID===c.UUID){m.setSelectedItem(m.getItems()[i]);break;}}}}else{m.removeSelections();}}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{t.updateIncidentDetailPage(s);}},updateIncidentDetailPage:function(s){try{s=jQuery.extend({},s);s["isEdit"]=false;s["isDisplay"]=true;s["isClicked"]=true;s["noData"]=false;var m=s["__metadata"]["uri"];var S=m.split("xsodata/");var a=S[S.length-1];a=encodeURIComponent(a.replace("SearchIncidentDetails","IncidentDetails"))+"/AssignedLocations";s["Geofences"]=this.getAssignedLocations(a);if(this.getSplitAppInstance()){if(this.getSplitAppInstance().getCurrentDetailPage().sId==="IncidentsDetails"){s["Geometry"]=JSON.parse(s["IncidentLocationGeometry"]);if(s["IncidentLocationGeometry"]){s["IncidentLocationGeometry"]=oSapSplMapsDataMarshal.convertGeoJSONToString(JSON.parse(s["IncidentLocationGeometry"]));}this.getSplitAppInstance().getCurrentDetailPage().getController().fnSetSelectedMasterItemData(s);sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(s);this.getSplitAppInstance().getCurrentDetailPage().getController().fnMakeChangesToDetailPageControlsBasedOnMode("Display",s);}}else{throw new Error();}}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"There is no current Detail Page in MyIncidents SplitApp.",this.getView().getControllerName());}}},getAssignedLocations:function(s){var a=[];if(!this.oDataModel){this.oDataModel=sap.ui.getCore().getModel("IncidentsToLocationMapODataModel");}this.oDataModel.read("/"+s,null,[],false,function(r){a=r.results;for(var i=0;i<a.length;i++){a[i]["isDeleted"]=false;a[i]["CHANGEMODE"]=null;}},function(){});return a;},setSplitAppInstance:function(s){if(s){this.oSplitAppInstance=s;}},getSplitAppInstance:function(){if(this.oSplitAppInstance){return this.oSplitAppInstance;}},openSapSplAddIncidentsActionSheet:function(){this.fireSelectionOfIncidentsMode();},ODataModelRequestCompleted:function(){if(arguments[0].getParameters().success){oSapSplBusyDialog.getBusyDialogInstance().close();this.onAfterListRendering();}},onAfterRendering:function(){oSapSplQuerySelectors.getInstance().setBackButtonTooltip();},onAfterListRendering:function(){var s=[],d=null;var l=(this.byId("SapSplIncidentsList").getCustomData().length>0)?this.byId("SapSplIncidentsList").getCustomData()[this.byId("SapSplIncidentsList").getCustomData().length-1].getKey():null,_=1;try{if(this.byId("SapSplIncidentsList")){s=this.byId("SapSplIncidentsList").getItems();if(s.length){this.byId("IncidentsMasterPage").setTitle(oSapSplUtils.getBundle().getText("INCIDENTS_MASTER_PAGE_TITLE",[splReusable.libs.Utils.prototype.getListCount(this.byId("SapSplIncidentsList"))]));if(l!==null){for(var c=0;c<s.length;c++){if(s[c].constructor!==sap.m.GroupHeaderListItem){if(l===s[c].getBindingContext().getProperty("UUID")){_=c;break;}}}}}if(s.length>0){this.selectFirstItem(_);if(sap.ui.getCore().getModel("SapSplIncidentsDetailModel")){d=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();}d["noData"]=false;d["isClicked"]=true;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(d);}}else{throw new Error();}}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"MyIncidentsList not defined",this.getView().getControllerName());}}this.getView().byId("sapSplIncidentSearch").focus();},handleSelectOfFilter:function(f){var s=null,S=null,o=null,a={};a["noData"]=true;a["isClicked"]=false;a["isEdit"]=false;a["isDisplay"]=true;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(a);try{if(this.byId("SapSplIncidentsList")){s=this.byId("SapSplIncidentsList");S=s.getBinding("items");o=s.getBinding("items").aSorters;if(S){S.filter([]);}else{throw new Error();}}else{throw new Error();}f.push(new sap.ui.model.Filter("isDeleted",sap.ui.model.FilterOperator.EQ,"0"));S.filter(f);S.sort(o);this.appliedFilters=S.aFilters;}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"undefined",this.getView().getControllerName());}}},handleSelectOfSorterRadioButton:function(E){var e=jQuery.extend(true,{},E);var t=this;if(E.getParameter("selected")){if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(s){if(s==="YES"){oSapSplUtils.setIsDirty(false);t.sortMasterListBasedOnSortTypeSelection(e);}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{this.sortMasterListBasedOnSortTypeSelection(e);}}},sortMasterListBasedOnSortTypeSelection:function(e){var s=null,i="",S=null,a=[];try{if(this.oSapSplIncidentsPopOverForSorters){this.oSapSplIncidentsPopOverForSorters.close();}else{throw new Error();}i=e.getSource().sId;if(this.byId("SapSplIncidentsList")){s=this.byId("SapSplIncidentsList");S=s.getBinding("items");a=S.aFilters;this.byId("SapSplIncidentsList").unbindAggregation("items");this.byId("SapSplIncidentsList").bindItems({path:"/IncidentDetails",template:this.byId("oSapSplIncidentListItem")});S=this.byId("SapSplIncidentsList").getBinding("items");if(!S){throw new Error();}}else{throw new Error();}if(i==="category"){if(this.oSapSplIncidentsSorterCategory){S.sort([this.oSapSplIncidentsSorterCategory,this.oSapSplIncidentsSorterName,this.oSapSplIncidentsSorterPriority]);S.filter(a);}else{throw new Error();}}else if(i==="priority"){S.sort([this.oSapSplIncidentsSorterPriorityWithGroup,this.oSapSplIncidentsSorterName]);S.filter(a);}else if(i==="all"){S.sort([this.oSapSplIncidentsSorterName]);S.filter(a);}else{S.filter(a);}this.appliedSorters=S.aSorters;}catch(b){if(b instanceof Error){jQuery.sap.log.error(b.message,"undefined",this.getView().getControllerName());}}},openSapSplIncidentFilterPopover:function(){var t=this;if(oSapSplUtils.getIsDirty()){sap.m.MessageBox.show(oSapSplUtils.getBundle().getText("DATA_LOSS_WARNING_TEXT"),sap.m.MessageBox.Icon.WARNING,oSapSplUtils.getBundle().getText("WARNING"),[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.CANCEL],function(s){if(s==="YES"){oSapSplUtils.setIsDirty(false);try{if(t.oSapSplIncidentsDialogForFilters){t.oSapSplIncidentsDialogForFilters.open();}else{throw new Error();}}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"Filter Dialog not defined",t.getView().getControllerName());}}}},null,oSapSplUtils.fnSyncStyleClass("messageBox"));}else{try{if(this.oSapSplIncidentsDialogForFilters){this.oSapSplIncidentsDialogForFilters.open();}else{throw new Error();}}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"Filter Dialog not defined",this.getView().getControllerName());}}}},openSapSplIncidentSortPopover:function(e){try{if(this.oSapSplIncidentsPopOverForSorters){this.oSapSplIncidentsPopOverForSorters.openBy(e.getSource());}else{throw new Error();}}catch(a){if(a instanceof Error){jQuery.sap.log.error(a.message,"Sort Popover not defined",this.getView().getControllerName());}}},selectFirstItem:function(c){var s=null,i=null,I=[],a;try{i=this.getView().byId("SapSplIncidentsList");I=i.getItems();a=I[c].getId();if(I.length>0){if(c===1&&I[0]instanceof sap.m.StandardListItem){I[0].setSelected(true);s=I[0].getBindingContext().getProperty();}else{I[c].setSelected(true);s=I[c].getBindingContext().getProperty();var p=0;for(var l=1;l<I.length;l++){if(I[l]instanceof sap.m.GroupHeaderListItem){I[p].setCount(l-1-p);p=l;}}if(I[p].constructor===sap.m.GroupHeaderListItem){I[p].setCount(I.length-1-p);}window.setTimeout(function(){I[0].rerender();},100);window.setTimeout(function(){I[p].rerender();},100);if(c===0||c===1){document.getElementById(this.getView().byId("sapSplIncidentSearch").getId()).scrollIntoView(true);}else{window.setTimeout(function(){document.getElementById(a).scrollIntoView(true);},10);}}}else{throw new Error();}s["rerender"]=true;this.handleMyIncidentsSelect(s);}catch(e){if(e instanceof Error){jQuery.sap.log.error(e.message,"Cannot select first item of MyIncidentsList",this.getView().getControllerName());}}},fnToHandleSearchOfIncidents:function(e){var s=e.getParameters().query;var S;var p,t=this,m;S=this.getView().byId("SapSplIncidentsList");if(s.length>2){p=this.prepareSearchPayload(s);this.callSearchService(p);}else if(S.getBinding("items")===undefined||S.getBinding("items").aFilters.length>1||e.getParameters().refreshButtonPressed===true){sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(this.getEmptyAddIncidentsData());S.unbindAggregation("items");S.bindItems({path:"/IncidentDetails",template:t.getView().byId("oSapSplIncidentListItem")});S.getBinding("items").filter(this.appliedFilters);S.getBinding("items").sort(this.appliedSorters);m=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m["noData"]=true;m["isClicked"]=false;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(m);}},prepareSearchPayload:function(s){var p={};p.UserID=oSapSplUtils.getLoggedOnUserDetails().usreID;p.ObjectType="Message";p.SearchTerm=s;p.FuzzinessThershold=SapSplEnums.fuzzyThreshold;p.MaximumNumberOfRecords=SapSplEnums.numberOfRecords;p.ProvideDetails=false;p.SearchInNetwork=true;p.AdditionalCriteria={};p.AdditionalCriteria.MessageObjectType="I";return p;},callSearchService:function(p){var s,S=[],o;var t=this,i,m;oSapSplAjaxFactory.fireAjaxCall({url:oSapSplUtils.getFQServiceUrl("/sap/spl/xs/app/services/Search.xsjs"),method:"POST",async:false,data:JSON.stringify(p),success:function(d,a,b){oSapSplBusyDialog.getBusyDialogInstance().close();if(b["status"]===200){o=t.getView().byId("SapSplIncidentsList");sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(t.getEmptyAddIncidentsData());o.unbindAggregation("items");if(d.length>0){s=oSapSplUtils.getSearchItemFilters(d);if(s.aFilters.length>0){S.push(s);}for(i=0;i<t.appliedFilters.length;i++){S.push(t.appliedFilters[i]);}o.bindItems({path:"/IncidentDetails",template:t.getView().byId("oSapSplIncidentListItem")});o.getBinding("items").filter(S);o.getBinding("items").sort(t.appliedSorters);m=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["isEdit"]=false;m["isDisplay"]=true;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(m);}else{m=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["isEditable"]=0;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(m);t.byId("IncidentsMasterPage").setTitle(oSapSplUtils.getBundle().getText("INCIDENTS_MASTER_PAGE_TITLE","0"));}}else if(d["Error"]&&d["Error"].length>0){var e=oSapSplUtils.getErrorMessagesfromErrorPayload(d)["ufErrorObject"];sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:oSapSplUtils.getErrorMessagesfromErrorPayload(d)["errorWarningString"],details:e});}},error:function(e){oSapSplBusyDialog.getBusyDialogInstance().close();m=sap.ui.getCore().getModel("SapSplIncidentsDetailModel").getData();m["noData"]=true;m["isClicked"]=false;m["isEditable"]=0;sap.ui.getCore().getModel("SapSplIncidentsDetailModel").setData(m);if(e&&e["status"]===500){sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:e["status"]+"\t"+e.statusText,details:e.responseText});}else{sap.ca.ui.message.showMessageBox({type:sap.ca.ui.message.Type.ERROR,message:oSapSplUtils.getErrorMessagesfromErrorPayload(JSON.parse(e.responseText))["errorWarningString"],details:oSapSplUtils.getErrorMessagesfromErrorPayload(JSON.parse(e.responseText))["ufErrorObject"]});}},complete:function(){}});},fnHandleBackNavigation:function(){var b=null;b=oSplBaseApplication.getAppInstance();if(b.getPreviousPage()){if(b.getPreviousPage().sId==="splView.tileContainer.MasterTileContainer"){sap.ui.getCore().byId("sapSplBaseUnifiedShell").removeAllHeadItems();}b.back();}else{b.to("splView.tileContainer.MasterTileContainer");sap.ui.getCore().byId("sapSplBaseUnifiedShell").removeAllHeadItems();}},onBeforeShow:function(){var n="",g="",m=null;n=jQuery.sap.getUriParameters().get("navToHome");g=jQuery.sap.getUriParameters().get("goto");m=this.byId("IncidentsMasterPage");if(g){if(n&&n==="false"){m.setShowNavButton(false);}else if(n&&n==="true"){m.setShowNavButton(true);}else{m.setShowNavButton(false);}}else{m.setShowNavButton(true);}}});
